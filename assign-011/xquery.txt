Query A

for $person in fn:doc ('xmlshop.xml')/Shop/Persons/Person
let $albums := $person/Albums/count(*)
let $films := $person/Films/count(*)
let $books := $person/Books/count(*)
let $sum := sum(($albums, $films, $books))
return ($person,$sum)

Query B

let $nbPerson := count(fn:doc ('xmlshop.xml')//Shop/Persons/Person)
let $person := fn:doc ('xmlshop.xml')/Shop/Persons/Person
let $albums := $person/Albums/count(*)
let $films := $person/Films/count(*)
let $books := $person/Books/count(*)
let $sum := sum(($albums, $films, $books))
return ($sum div $nbPerson, $sum, $nbPerson)

Query C 

for $actor in fn:distinct-values(fn:doc ('xmlshop.xml')/Shop/DVDs/DVD/Actors/Actor)
let $director := fn:doc ('xmlshop.xml')/Shop/DVDs/DVD/Director
where $actor = $director
return ($actor)

Query D 
//Works but only in our case so it's not what's expected
let $dvdComp := fn:distinct-values(fn:doc('xmlshop.xml')/Shop/DVDs/DVD/Distributor)
for $cdComp in fn:distinct-values(fn:doc('xmlshop.xml')/Shop/CDs/CD/Distributor)
where $cdComp != $dvdComp[1]
return fn:distinct-values($cdComp)